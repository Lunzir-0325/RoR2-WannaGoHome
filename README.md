[![Support Lunzir](https://img.shields.io/badge/Support-Lunzir-ff6482)](https://ko-fi.com/lunzir0325)
[![支持我](https://img.shields.io/badge/Support-支持我-ff6482)](http://note.youdao.com/noteshare?id=0f269e09eb25d7f00285e815a48f835d&sub=28F42AE4219D453FB3E383B0A4ECA9FB)
*QQ：409790315*
*E-mail: 409790315@qq.com*
# RoR2-BazaarIsMyHome 
- [√] Server - side
- [√] Client - side
- [√] Shopping
- [√] Unmodded

Welcome to my home, no war, no disease, just peace and love. My home has more printers, cauldrons, scrapers, equipments, lunar, clean pool, shrines restack. You can adjust these in the configuration file. With mod [BazaarLunarForEveryone](https://thunderstore.io/package/Lunzir2/BazaarLunarForEveryone/), can limit each person to restack one times (also do with equiment). No need unmoded , client and server are available.

English not my first language, hope you can understand what I am mean. : }

我的私藏mod，在月店增加多台打印机、大锅、收割机、主动装备、月仓、净化池、秩序。有中文配置文件。搭配[BazaarLunarForEveryone](https://thunderstore.io/package/Lunzir2/BazaarLunarForEveryone/)可以限制每个人只秩序一次，还有主动装备也是。房主或专用服务器有mod即可。

---

如果觉得不错就这样吧，开发不易，灵感不易，几十kb的大小，一个小问题可能要重复打开游戏关闭游戏重启游戏等待进入测试问题重写代码保存运行打开游戏关闭游戏重启游戏等待进入测试问题重写代码保存运行打开游戏关闭游戏重启游戏等待进入测试问题重写代码保存运行打开游戏关闭游戏重启游戏等待进入测试问题重写代码保存运行打开游戏关闭游戏重启游戏等待进入测试问题重写代码保存运行打开游戏关闭游戏重启游戏等待进入测试问题重写代码保存运行，n次调试换来成果。不免还会出错，又重写从第一步开始打开游戏关闭游戏重启游戏等待进入测试问题重写代码保存运行打开游戏关闭游戏重启游戏等待进入测试问题重写代码保存运行打开游戏关闭游戏重启游戏等待进入测试问题重写代码保存运行打开游戏关闭游戏重启游戏等待进入测试问题重写代码保存运行打开游戏关闭游戏重启游戏等待进入测试问题重写代码保存运行。长期挂着笔记本主板烫死了，并不会有那么多人那么多时间用爱发电去做这样的事情，如果有就是傻逼，我说我自己。

听说疫情还要封到月底，从年底到现在，断断续续，对生活好无望，害，寄，祝各位安好无忧。 
（外国人看到上面的字会不会以为是乱码

2022年3月21日

## Config Settings 默认配置
| Setting| Default Value| 
|:-------|:-------:|
[00 Setting设置]|
EnableMod|true
EnableAutoOpenShop|true
EnableNoKickFromShop|true
EnableShoperWontDie|false
NewtSecondLifeMode |Evil
EnableWelcomeWord|true
PenaltyCoefficient|10
SpawnCountByStage|true
SpawnCountOffset|0
[01 Printer打印机]|
PrinterCount|9
PrinterTier1Weight|0.8
PrinterTier2Weight|0.2
PrinterTier3Weight|0.01
PrinterBossWeight|0.01
PrinterTierLunarHackChance|0.05
PrinterTierVoidHackChance|0.05
[02 Cauldron大锅]|
CauldronCount|7
CauldronWhiteWeight|0.3
CauldronGreenWeight|0.6
CauldronRedWeight|0.1
[02.1 Cauldron Hack大锅数据修改]|
EnableCauldronHacking|true
CauldronWhiteToGreenCost|3
CauldronGreenToRedCost|5
CauldronRedToWhiteCost|1
CauldronWhiteCostTypeChange|true
CauldronWhiteHackedChance|0.2
CauldronGreenHackedChance|0.2
CauldronRedHackedChance|0.2
CauldronYellowWeight|0.33
CauldronBlueWeight|0.33
CauldronPurpleWeight|0.33
CauldronWhiteToGreenCost_Hacked|3
CauldronGreenToRedCost_Hacked|5
CauldronRedToWhiteCost_Hacked|4
[03 Scrapper收割机]|
ScrapperCount|4
[04 Equipment主动装备]|
EquipmentCount|6
[05 Lunar月球装备]|
LunarShopTerminalCount|11
EnableLunarShopTerminalInjection|true
LunarShopTerminalCost|2
[06 ShrineRestack跌序]|
EnableShrineRestack|true
ShrineRestackMaxCount|99
ShrineRestackCost|1
ShrineRestackScalar|2
[07 CleanPool净化池]|
EnableShrineCleanse|true
[08 Pray祈祷]|
EnablePray|true
RewardCount|3
PrayCost|10
PrayNormalWeight|0.5
PrayEliteWeight|0.25
PrayPeculiarWeight|0.25
PrayPeculiarList|
[09 LunarRecycler切片]|
EnableLunarRecyclerInjection|true
LunarRecyclerAvailable|true
LunarRecyclerRerollCount|10
LunarRecyclerRerollCost|1
LunarRecyclerRerollScalar|2
[10 预言地图]|
EnableSeerStationsInjection|true
SeerStationAvailable|true
LunarSeerStationsCost|3
[98 Newts lines商人台词]|
EnableLines|true
~~Lines~~|~~纽特：请不要打我。Newt: Please don\'t hit me.~~
[99 Decorate装饰]|
EnableDecorate|true

### Items Pool of Pray 祈祷物品池信息
|en|cn|describe|
|---|---|---|
[Normal Items 一般物品]||White(Tier1), Green(Tier2), Red(Tier3) 白、绿、红颜色物品
[Elite Equipments 精英主动装备]||
His Reassurance|大地之证|
Ifrit's Distinction|伊夫利特的卓越|
Spectral Circlet|幽灵头饰|
Her Biting Embrace|她的噬咬拥抱|
Silence Between Two Strikes|暴风雨前的宁静|
N'kuhana's Retort|恩库哈纳的反驳|
EQUIPMENT_AFFIXVOID_NAME|EQUIPMENT_AFFIXVOID_NAME|Void Elite equip 虚空精英装备
Shared Design|共同的设计|
Elegy of Extinction|灭绝挽歌|
[Peculiar Items 奇特物品]||items from the game that have not been developed have no name or description. 来源于游戏没有开发完的内部物品，他们没有名字和描述
ITEM_BOOSTATTACKSPEED_NAME|ITEM_BOOSTATTACKSPEED_NAME|+10% attack speed per stack. +10%攻击速度/物品数量
ITEM_BOOSTDAMAGE_NAME|ITEM_BOOSTDAMAGE_NAME|+10% dmg per stack. +10%基础伤害/物品数量
ITEM_BOOSTEQUIPMENTRECHARGE_NAME|ITEM_BOOSTEQUIPMENTRECHARGE_NAME|-10% equip CD per stack, benefits of diminishing. -10%主动装备冷却时间，效益递减
ITEM_BOOSTHP_NAME|ITEM_BOOSTHP_NAME|+10% HP per stack. +10%生命值/物品数量
ITEM_BURNNEARBY_NAME|ITEM_BURNNEARBY_NAME|permanent burning. 永久燃烧
Wicked Ring|邪恶的戒指|+5% crit, when crit -0.5s all skill CD per stack. +5%暴击率，暴击时候-0.5秒技能CD
ITEM_CRIPPLEWARDONLEVEL_NAME|ITEM_CRIPPLEWARDONLEVEL_NAME|when a monster levels up, a permanent slow down aura is generated for the player that owns the item. 当怪物升级，向拥有该物品的玩家生成永久减速光环
ITEM_EMPOWERALWAYS_NAME|ITEM_EMPOWERALWAYS_NAME|just an ornament. 装饰品
ITEM_GHOST_NAME|ITEM_GHOST_NAME|become a ghost and can't be attacked. 变成幽魂，无法被攻击
ITEM_LEVELBONUS_NAME|ITEM_LEVELBONUS_NAME|+1 team level per stack. +1等级/物品数量
Ancestral Incubator|先祖孵化器|
ITEM_INVADINGDOPPELGANGER_NAME|ITEM_INVADINGDOPPELGANGER_NAME|+1000% hp, -96% dmg(dmg has been fixed to 1). +1000%生命值，-96%基础伤害(伤害已修正为1)
ITEM_TEMPESTONKILL_NAME|ITEM_TEMPESTONKILL_NAME|When killed, there is a chance to summon the circle of Storms. touching the circle of Storms. gains N 'Kuhana's Retort Buff for 10 seconds. 当击杀后有一定机率召唤风暴圈，触碰风暴圈获得N'kuhana's Retort Buff，持续10秒
ITEM_WARCRYONCOMBAT_NAME|ITEM_WARCRYONCOMBAT_NAME|Trigger effect: +50% movement speed, +100% attack speed for 2 seconds (+4 seconds per stack), 30 seconds cooldown. 当发动攻击触发效果，+50%移动速度，+100%攻击速度，持续2秒(+4秒/物品数量)，冷却30秒

## What's Next 以后的想法
- [ ] Increase the probability of something good depending on the difficulty of the level. 根据关卡难度提升好东西的概率
- [ ]  Recycle can reroll custom LunarShopBud. 切片翻滚包含所有月球蓓蕾，目前只有原本的5个在滚，有点难不一定能做到
- [ ]  Developing new mods, and three other ideas that have something to do with Newt. 开发新的mod，还有三个想法都和商人有点关系。


## Known issues 已知问题
- Although no need for unmoded, for players who have not installed the same mod, some labels are not correctly displayed and will not affect normal use. For example, moon bud physical size, shrinehealing price tag is displayed as money, the actual cost of lunar coins. 虽然不需要unmoded，但是未安装同样mod的玩家，一些标签不能准确显示，但不影响正常使用。比如月球蓓蕾实体大小，树灵价格标签显示为金钱，实际是花费月币。
- Equipment price is currently set to 0, there is no better way to change the price type so far. 主动装备价格目前设置成0，目前没有找到办法修改价格类型。


## Changelog 更新日志
#### 1.3.0 2022年4月20日 v1.2.3.1
- Pray special items are now has optional, added parameter`PrayarList`in the configuration file.  祈祷特殊物品现在改成可选择项，在配置文件中更改PrayPeculiarList参数
- The Lunar Hub now contains the original 5, and use the recycle will also affect custom parts. 出售的月球装备现在包含原来的5个，一共11个，同时使用切片也会影响自定义的部分。
#### 1.2.39 2022年4月6日 v1.2.2.0
- Fixed some errors when entering the bazaar. 修复一些错误当进入商店的时候。
#### 1.2.38 2022年4月3日 v1.2.2.0
- Provides prayer pool information. 提供祈祷物品池信息。
- Fixed doppelganger items repaired only 4% damage. The bonus to HP remains the same, 10 times. Artifact of ShadowClone will not be affected. 修复复仇道具伤害只有4%，复仇神器不会受影响。
- Fixed Wicked Ring can not reduce skill CD, but only the host works... 修复邪恶的戒指不能减技能CD，不过只能主机能用。
- Fixed some logic bugs. 修复一些逻辑错误
#### 1.2.33 2022年4月2日 v1.2.2.0
- Test upload language pack. 测试上传语言包 
#### 1.2.32 2022年3月31日 v1.2.2.0
- Fixed infinite refresh crash when merchant is attacked by void ghostfire. 修复商人受到虚空鬼火攻击导致无限刷新死机。
#### 1.2.31 2022年3月30日 v1.2.2.0
- De-Update the language pack. 重新更新语言包。 
#### 1.2.3 2022年3月28日 v1.2.2.0
- Added configuration parameter NewtSecondLifeMode, give more HP to Newt.  商人血比以前多一点点，至少很难死。新增配置参数NewtSecondLifeMode，商人死后的形态恶魔，还是变成无辜的灵魂。
- Added Newt LanguageAPI 完善商人说话，增加多国语言包
#### 1.2.2 2022年3月24日 v1.2.2.0
- Fixed errors when the value set to 0, and other logic issues. 修复数值为0时的错误，和其他逻辑问题
#### 1.2.1 2022年3月22日 v1.2.2.0
- Fixed error when the number of prints is 0. 修复打印数量为0时候出错
- Fixed newt's speak function not being turned off. 修复纽特说话功能不能关
#### 1.2.0 2022年3月21日
- Added yellow cauldron, blue cauldron, purple cauldron. 新增玩具黄色大锅，蓝色大锅、紫色大锅。
- Added blue printer, purple printer. 新增玩具蓝色打印机、紫色打印机。
- Added auto open shop, yeah, I know mods already exist that do the same thing. 新增自动开商店，如果有相同功能的mod不影响使用，害怕就关了吧。
- Added no shoper kick out. 新增商人防踢，如果有相同功能的mod不影响使用，害怕就关了吧。
- Added shoper no longer die. Please do not kill viciously. There will be punishment now. 新增商人死亡一次会变身同时拥有装备，你可能被打死甚至团灭，请不要恶意杀死，现在会有惩罚。
- Added some AI for Newt, she can speak now. 给商人加点人工(zhi zhang)AI，被攻击时候的台词。
- Added data for modifying lunar, seerstation, and recycle , such as price, frequency, available, etc. 新增可修改月球装备、切片、预言地图的数据，如价格、次数、可否购买等
- Added some effects. 增加一些特效
- The above functions can be adjusted in the configuration file. 以上功能都可再配置文件里面调整。
- It's sad to said. The configuration file has been changed and needs to be regenerated. 配置文件里的命名发生改变，需要重新生成。
#### 1.1.1 
- Prayer has been added again. 祈祷功能已重新添加
- Fixed an issue with setting the maximum number. 修复设置最大数量的问题
- Update to R2API-4.1.1. 更新至框架R2API-4.1.1
#### 1.1.0 2022年3月18日
- Add a new feature, pray to the shrinehealing for special items with lunar coins. 新增玩具，向树灵神龛祈祷获得特别物品，同时改成用月币供奉。
- Fixed white cauldron only get one items which install mod [ShareSuite](https://thunderstore.io/package/FunkFrog-and-Sipondo/ShareSuite)  when attribute PrinterCauldronFixEnabled set to true. 修复白色大锅只获得一件物品，当使用共享mod。
- Some code and configuration file adjustments. 根据自己心情适当调整源代码和配置
- 记录不能搬砖的21天，月底来临，房租水电何去何从。
#### 1.0.1
- Forgot to add configuration information 补充一些配置信息
#### 1.0.0
- First Release 首发

